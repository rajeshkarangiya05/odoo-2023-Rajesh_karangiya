<?xml version="1.0" encoding="utf-8" ?>
<odoo>
	<record id="hotel_room_booking_view_tree" model="ir.ui.view">
		<field name="name">hotel.room.booking.view.tree</field>
		<field name="model">hotel.room.booking</field>
		<field name="arch" type="xml">
				<tree>
					<field name="hotel_id" context="{'hotel_id':1}"/>
					<field name="customer_id"/>
					<field name="user_email"/>
					<field name="user_address"/>
					<field name="checkin_date"/>
					<field name="checkout_date"/>
				</tree>
		</field>
	</record>

	<record id="hotel_room_booking_view_form" model="ir.ui.view">
		<field name="name">hotel.room.booking.view.form</field>
		<field name="model">hotel.room.booking</field>
		<field name="arch" type="xml">
			<form>
				<header>
					<button name="Approve_booking" class="oe_highlight" states="draft" string="Approve" type="object"/>
					<button name="cancel_booking" class="oe_highlight" states="booked" string="Cancel" type="object"/>
					<field name="state" widget="statusbar" statusbar_visible="draft,booked,cancel"/>
				</header>
				<sheet>
					<group>
						<field name="hotel_id"/>
						<field name="customer_id"/>
						<field name="user_email"/>
						<field name="user_address"/>
						<field name="checkin_date"/>
						<field name="checkout_date"/>
						<field name="user_image"/>
						<field name="color"/>				
					</group>
					<notebook>
						<page string="Room Details" >
							<field name="room_lines_ids" context="{'my_hotel': hotel_id}">
								<tree editable="bottom">
									<field name="hotel_room_id" domain="[('hotel_name_id','=', context.get('my_hotel'))]"/>
									<field name="count_adults"/>
									<field name="count_children"/>
									<field name="default_price"/>
								</tree>
							</field>
						</page>
					</notebook>				
				</sheet>
			</form>
		</field>
	</record>
	<record id="hotel_room_booking_view_kanban" model="ir.ui.view">
		<field name="name">hotel.room.booking.view.kanban</field>
		<field name="model">hotel.room.booking</field>
		<field name="arch" type="xml">
			<kanban class="o_res_partner_kanban" default_group_by="state">
				<field name="hotel_id"/>
				<field name="customer_id"/>
				<field name="user_email"/>
				<field name="user_address"/>
				<field name="checkin_date"/>
				<field name="checkout_date"/>
				<field name="user_image"/>
				<field name="id"/>
				<field name="color"/>			
				<templates>
					<t t-name="kanban-box">
						<div t-attf-class="#{kanban_color(record.color.raw_value)} soe_kanban_global_click">
							<div class = "o_kanban_image">
								<img alt="Contact image" t-att-src="kanban_image('hotel.room.booking', 'user_image', record.id.raw_value)"/>
							</div>
							<div class="oe_kanban_details">
								<strong class="o_kanban_record_title">
									<div><b>Hotel:</b><b><field name="hotel_id"/></b></div>
									<div><b>Name:</b><field name="customer_id"/></div>
									<div><b>Email:</b><field name="user_email"/></div>
									<div><b>Check-in:</b><field name="checkin_date"/></div>
									<div><b>Check-out:</b><field name="checkout_date"/></div>
								</strong>
							</div>
						</div>
					</t>
				</templates>
			</kanban>
		</field>
	</record> 

	<record id="action_room_booking_view" model="ir.actions.act_window">
		<field name="name">Hotel Room Booking</field>
		<field name="res_model">hotel.room.booking</field>
		<field name="view_mode">kanban,tree,form</field>
	</record>

	<menuitem id="menu_room_booking"
			name="Hotel room Booking"
			parent="main_menu_hotel"
			action="action_room_booking_view"
			sequence="5"/>
</odoo>